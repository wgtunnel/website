+++
weight = 300
date = "2025-04-13T18:42:53-04:00"
lastmod = "2025-04-13T18:42:53-04:00"
draft = false
author = "Zane Schepke"
title = "Android Integrations"
icon = "smart_toy"
toc = true
description = "The various Andorid integration features for WG Tunnel."
tags = ["integrations", "intent", "broadcast", "automation", "tasker"]
+++

### Remote App Control with Intents

WG Tunnel enables other apps (like Tasker, MacroDroid, etc) to control toggling tunnels and auto-tunneling via intents.

Available actions:
- Vpn on by tunnel name
- Vpn off by tunnel name
- Start auto-tunnel
- Stop auto-tunnel

> <small> **_NOTE:_**  For secure purposes, this feature needs to first be turned on by the user in the app settings. Turning on this feature
> will generate the *key* used in the intents to ensure the intent is a valid request. Click on this key to copy it to your clipboard. </small>

Example request to start a tunnel:
```shell
am broadcast \                                               
    -a com.zaneschepke.wireguardautotunnel.START_TUNNEL \
    -n com.zaneschepke.wireguardautotunnel/com.zaneschepke.wireguardautotunnel.core.broadcast.RemoteControlReceiver \
    --es key "<your-key>" --es tunnelName "<tun-name>"
```
Example request to start auto-tunnel:
```shell
am broadcast \                                               
    -a com.zaneschepke.wireguardautotunnel.START_AUTO_TUNNEL \
    -n com.zaneschepke.wireguardautotunnel/com.zaneschepke.wireguardautotunnel.core.broadcast.RemoteControlReceiver \
    --es key "<your-key>"
```

List of all possible actions:
- `com.zaneschepke.wireguardautotunnel.START_TUNNEL`
- `com.zaneschepke.wireguardautotunnel.STOP_TUNNEL`
- `com.zaneschepke.wireguardautotunnel.START_AUTO_TUNNEL`
- `com.zaneschepke.wireguardautotunnel.STOP_AUTO_TUNNEL`

Component (important for security):
- `com.zaneschepke.wireguardautotunnel/com.zaneschepke.wireguardautotunnel.core.broadcast.RemoteControlReceiver`

> <small> **_NOTE:_** If you are using a nightly or prerelease version, first half of the component path (app package section)
> could be slightly different so check the installed package name to adapt this. This is only for the first half before the `/`.  </small>

Extras:
- `key`: required for all requests and generated by the app when you turn on this feature.
- `tunnelName`: only necessary for start and stop tunnel actions. If not found, the primary or first tunnel will be used.

Example in app:

![Intent Broadcast From App](/images/integration/intent_broadcast.png)
